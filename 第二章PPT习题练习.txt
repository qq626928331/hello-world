CREATE TABLE DEPT(
DEPTNO INT(2) NOT NULL PRIMARY KEY COMMENT "部门编号" AUTO_INCREMENT ,
DNAME VARCHAR(20) COMMENT '部门名称',
LOC VARCHAR(30) COMMENT "部门地点"
)
CREATE TABLE EMP(
EMPNO INT(4) PRIMARY KEY NOT NULL AUTO_INCREMENT COMMENT "员工编号",
ENAME VARCHAR(10) COMMENT "员工姓名",
JOB VARCHAR(10) COMMENT "职务",
MGR VARCHAR(50) COMMENT "经理编号",
HIREDATE DATE COMMENT "入职日期",
SAL DOUBLE(7,2) COMMENT "工资",
COMM DOUBLE(7,2) COMMENT "奖金",
DEPTNO INT(2) COMMENT "部门编号"
)
CREATE TABLE person(
SEX ENUM('男','女'),
INTEREST SET('听音乐','看电影','购物','旅游','游泳','游戏') 
)
INSERT INTO person VALUES("男",'看电影,游泳,听音乐')
SELECT * FROM PERSON

-- 第2章 练习1 1题
CREATE TABLE 课程表(
课程代码 INT(6) PRIMARY KEY,
课程名称 VARCHAR(50),
开设院系代码 INT(10)
)
CREATE TABLE 系(
系编号 INT(10) PRIMARY KEY ,
系名称 VARCHAR(20) UNIQUE,
系主任 CHAR(12) NOT NULL,
系所在校区 ENUM('南湖校区','浑南校区')
) 
CREATE TABLE 班级(
班级编号 INT(10) PRIMARY KEY,
班级名称 VARCHAR(20) UNIQUE,
所属系 INT(20) NOT NULL, 
CONSTRAINT fk_系 FOREIGN KEY (所属系) REFERENCES 系(系编号)
)
FOREIGN KEY 系(系编号) REFERENCES 班级(所属系)
CREATE TABLE cj (
	学号 CHAR (6) NOT NULL,
	课程号 CHAR (3) NOT NULL,
	成绩 DECIMAL (4, 1),
	PRIMARY KEY (学号, 课程号),
	CONSTRAINT cj_xh FOREIGN KEY (学号) REFERENCES xs (学号) ON DELETE RESTRICT ON UPDATE CASCADE,
	CONSTRAINT cj_kch FOREIGN KEY (课程号) REFERENCES kc (课程号) ON DELETE CASCADE ON UPDATE RESTRICT
);
DESC cj
CREATE TABLE 学生表(
学号 CHAR(10) PRIMARY KEY ,
姓名 VARCHAR(20) NOT NULL,
性别 ENUM("男",'女'),
出生日期 DATE,
所在班级 INT(10),
CONSTRAINT fk_班级 FOREIGN KEY 学生表(所在班级) REFERENCES 班级(班级编号)
)
DESC 学生表
CREATE TABLE COPY_学生表 LIKE `学生表`
CREATE TABLE COPY_班级 SELECT * FROM 学生表

-- 第2章 练习2 1题
CREATE TABLE DEPT10 SELECT * FROM EMP WHERE DEPTNO=10
DROP TABLE DEPT10

ALTER TABLE EMP ADD Tele VARCHAR(50) NULL
ALTER TABLE EMP MODIFY Tele CHAR(50) NULL
ALTER TABLE EMP DROP COLUMN Tele

-- 第2章 练习3 1题
ALTER TABLE EMP ADD GENDER CHAR(2) DEFAULT "男"
-- 第2章 练习3 2题
ALTER TABLE EMP MODIFY GENDER CHAR(4)
-- 第2章 练习3 3题
ALTER TABLE EMP MODIFY GENDER CHAR(4) DEFAULT "女"
-- 第2章 练习3 4题
ALTER TABLE EMP DROP COLUMN GENDER

-- 第2章 课后作业 1题
CREATE TABLE data_test(
d DATE 
)
INSERT INTO data_test VALUES (SYSDATE()),("1998-08-18")
-- 第2章 课后作业 2题
CREATE TABLE dtest SELECT * FROM dept WHERE DEPTNO<40
-- 第2章 课后作业 3题
CREATE TABLE empl SELECT * FROM emp WHERE DEPTNO<30
-- 第2章 课后作业 4题
ALTER TABLE 学生表 ADD gender ENUM('男','女') DEFAULT '女'
-- 第2章 课后作业 5题
ALTER TABLE 学生表 MODIFY 姓名 CHAR(10)

-- 第2章 课后作2 1题
略
-- 第2章 课后作2 2题
CREATE TABLE sc(
选课流水号 INT(20) PRIMARY KEY,
学生编号 INT(10) NOT NULL,
课程编号 INT(10) NOT NULL,
成绩 INT(10),
CONSTRAINT FK_学生编号 FOREIGN KEY (学生编号) REFERENCES 学生表(学号),
CONSTRAINT FK_课程编号 FOREIGN KEY (课程编号) REFERENCES 课程表(课程代码)
)
-- 第2章 课后作2 3题
CREATE TABLE copy_emp LIKE emp
-- 第2章 课后作2 4题
CREATE TABLE copy_dept LIKE DEPT 
-- 第2章 课后作2 5题
ALTER TABLE copy_emp ADD CONSTRAINT fk_DEPTNO FOREIGN KEY (deptno) REFERENCES copy_dept(deptno)
-- 第2章 课后作2 6题
ALTER TABLE copy_dept ADD CONSTRAINT deptno_PK PRIMARY KEY(DEPTNO)
DESC COPY_DEPT
